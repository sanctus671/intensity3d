<div class="dialog-title">
    <h2 mat-dialog-title>{{ 'Edit Profile' | translate }}</h2>
    <mat-icon (click)="dismiss()" [attr.aria-label]="'Close dialog' | translate">close</mat-icon>
</div>

<mat-dialog-content class="edit-profile">
    <!-- Avatar Section -->
    <div class="avatar-section">
        <div class="avatar-preview" [style.background-image]="'url(' + getDp(profile.dp || '') + ')'">
            <div class="avatar-overlay" (click)="uploadAvatar()">
                <mat-icon>photo_camera</mat-icon>
            </div>
        </div>
        <div class="avatar-text">
            <h3>{{ 'Profile Picture' | translate }}</h3>
            <p>{{ 'Click to change your avatar' | translate }}</p>
        </div>
        <input #avatarInput type="file" accept="image/*" hidden (change)="onAvatarChange($event)">
    </div>

    <mat-form-field>
        <mat-label>{{ 'Display Name' | translate }}</mat-label>
        <input matInput type="text" [(ngModel)]="profile.display">
    </mat-form-field>
    
    <mat-form-field>
        <mat-label>{{ 'Gender' | translate }}</mat-label>
        <mat-select [(ngModel)]="profile.gender">
            <mat-option value="Male">{{ 'Male' | translate }}</mat-option>
            <mat-option value="Female">{{ 'Female' | translate }}</mat-option>
            <mat-option value="Other">{{ 'Other' | translate }}</mat-option>
        </mat-select>
    </mat-form-field>   
    
    <mat-form-field>
        <mat-label>{{ 'About Me' | translate }}</mat-label>
        <textarea matInput [(ngModel)]="profile.about" cdkTextareaAutosize cdkAutosizeMinRows="2"></textarea>
    </mat-form-field>  
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button mat-dialog-close>{{ 'Cancel' | translate }}</button>
  <button mat-button (click)="save()" color="primary">{{ 'Save' | translate }}</button>
</mat-dialog-actions>
